<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="robots" content="noindex, nofollow">
    <meta name="Author" content="Colin Moen">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Caprasimo&family=Chicle&family=EB+Garamond:ital,wght@0,400..800;1,400..800&family=Fascinate&family=Freehand&family=Goblin+One&family=Grand+Hotel&family=Italiana&family=Lexend+Exa:wght@100..900&family=Limelight&family=Roboto:ital,wght@0,100..900;1,100..900&family=Spicy+Rice&family=Sulphur+Point:wght@300;400;700&family=Trade+Winds&family=Ultra&family=Wendy+One&family=Yellowtail&display=swap"
        rel="stylesheet">
    <title>MMC | Souvenir Shop</title>
    <style>

    </style>
</head>

<body>
    <header class="shop-header">
        <h1>Souvenir Shop</h1>
        <div class="header-cards">
            <div class="header-card"><a href="../index.html" id="home">Home</a></div>
            <div class="header-card"><a href="staff.html" id="staff">Staff</a></div>
            <div class="header-card"><a href="collections.html" id="collections">Collections</a></div>
            <div class="header-card"><a href="../html/shop.html" id="shop">Shop</a></div>
            <button class="cart-button" onclick="location.href='cart.html'" id="viewCartBtn">View Cart</button>

        </div>
    </header>

    <div class="shop-container">
        <!-- BEGIN SINGLE ITEM BLOCK-->
        <div class="souvenir-item" data-id="item001">
            <div class="item-row-1">
                <img src="../images/shop/dirty-bucket.png" alt="photo of a dirty bucket" title="Ideal for collectors!"
                    onclick="openModal(this)">
                <h3>Dirty Bucket</h3>
            </div>
            <div class="item-row-2">
                <p>Recovered from beneath a studio bench, this sock bears the unmistakable imprint of a long firing
                    cycle
                    and a short attention span. The clay residue suggests a mid-range stoneware body, possibly cone 6.
                    Ideal
                    for collectors of textile-based sedimentation or those seeking a wearable relic of artistic neglect.
                </p>
            </div>
            <div class="item-row-3">
                <p><strong>Price:</strong> $42.99</p>
                <span class="qty-badge" aria-live="polite"></span>
                <button data-id="item001" data-name="Dirty Bucket" data-price="42.99"
                    data-image="../images/shop/dirty-bucket.png" onclick="addToCart(this)">Add
                    Dirty Bucket to Cart</button>
            </div>

        </div>
        <!-- END SINGLE ITEM BLOCK -->

        <!-- BEGIN SINGLE ITEM BLOCK-->
        <div class="souvenir-item" data-id="item002">
            <div class="item-row-1">
                <img src="../images/shop/dirty-sock.png" alt="photo of a dirty sock"
                    title="May be used as a planter, a metaphor, or both!" onclick="openModal(this)">
                <h3>Dirty Sock</h3>
            </div>
            <div class="item-row-2">
                <p>An unwashed vessel of utilitarian despair, this bucket once held the slurry of ambition and
                    overhydrated
                    porcelain. Its surface is adorned with spontaneous splashes — a testament to the artist’s commitment
                    to
                    chaos and the absence of lids. May be used as a planter, a metaphor, or both.</p>
            </div>
            <div class="item-row-3">
                <p><strong>Price:</strong> $87.99</p>
                <span class="qty-badge" aria-live="polite"></span>
                <button data-id="item002" data-name="Dirty Sock" data-price="87.99"
                    data-image="../images/shop/dirty-sock.png" onclick="addToCart(this)">Add
                    Dirty Sock to Cart</button>
            </div>


        </div>
        <!-- END SINGLE ITEM BLOCK -->

        <!-- BEGIN SINGLE ITEM BLOCK-->
        <div class="souvenir-item" data-id="item003">
            <div class="item-row-1">
                <img src="../images/shop/bills.jpg" alt="photo of a pile of electric bills"
                    title="A curated selection of overdue electric bills" onclick="openModal(this)">
                <h3>Electric Bills</h3>
            </div>
            <div class="item-row-2">
                <p>A curated selection of overdue electric bills, each bearing the timestamp of a kiln cycle and the
                    echo of
                    financial ruin. Buyers may choose to acquire the stack outright or assume the moral burden of
                    payment.
                    Includes authentic late fees and a handwritten note reading “Art is the real currency.”</p>
            </div>
            <div class="item-row-3">
                <p><strong>Price:</strong> $312.17</p>
                <span class="qty-badge" aria-live="polite"></span>
                <button data-id="item003" data-name="Electric Bills" data-price="312.17"
                    data-image="../images/shop/bills.jpg" onclick="addToCart(this)">Add Electric Bills to Cart</button>
            </div>


        </div>

        <!-- END SINGLE ITEM BLOCK -->
        <div class="souvenir-item" data-id="item004">
            <div class="item-row-1">
                <img src="../images/shop/rags.png" alt="photo of a pile of dirty rags"
                    title="Each rag bears the ghost of a glaze spill" onclick="openModal(this)">
                <h3>Used Rags</h3>
            </div>
            <div class="item-row-2">
                <p>A stratified mound of cotton and synthetic fibers, each rag bears the ghost of a glaze spill, a
                    failed
                    handle attachment, or a moment of quiet resignation. A tactile archive of the artist’s inability to
                    clean up emotionally or physically. Some rags are stiff
                    with dried slip; others are merely damp with regret.</p>
            </div>
            <div class="item-row-3">
                <p><strong>Price:</strong> $13.99</p>
                <span class="qty-badge" aria-live="polite"></span>
                <button data-id="item004" data-name="Used Rags" data-price="13.99" onclick="addToCart(this)"
                    data-image="../images/shop/rags.png">
                    Add Used Rags to Cart
                </button>
            </div>



        </div>
        <!-- END SINGLE ITEM BLOCK -->

    </div>
    <footer id="footer-shop" class="row footer">
        <p>This is a fictitious website created purely for academic purposes. The content on this site was
            conceived by a human<br> and created by AI. The Images were created by AI and curated, edited,
            reviewed, verified, validated, and augmented by a human. Collection descriptions were drafted by a human and
            augmented by AI.</p>
    </footer>

    <!-- MODAL -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <img id="modal-image" src="" alt="">
        </div>
    </div>

    <script>
        //this key links the shop to the cart

        const CART_KEY = 'museumCartV1';


        // This function reads the Cart information and write it to JSON  
        function readCart() {
            try { return JSON.parse(localStorage.getItem(CART_KEY)) || []; }
            catch { return []; }
        }

        function writeCart(cart) {
            localStorage.setItem(CART_KEY, JSON.stringify(cart));
        }

        /*This function is called by the addToCart button the first part reads the dataset contined in the buttons and asssigns the values to variables */

        function addToCart(btn) {
            const id = btn.dataset.id;
            const name = btn.dataset.name;
            const unitPrice = Number(btn.dataset.price);
            const image = btn.dataset.image;

            /* This part puts all of the individual items and puts them into an object called cart and writes it to LocalStorage   */

            let cart = readCart();
            const idx = cart.findIndex(it => it.id === id);
            if (idx >= 0) {
                cart[idx].qty += 1;
            } else {
                cart.push({ id, name, unitPrice, qty: 1, image });
            }
            writeCart(cart);

            // Update the item card's qty badge

            const card = btn.closest('.souvenir-item');
            if (card) {
                const badge = card.querySelector('.qty-badge');
                if (badge) {
                    const item = cart.find(it => it.id === id);
                    badge.textContent = item ? `Qty: ${item.qty}` : '';
                }
            }
        }

        function openModal(imgElement) {
            const modal = document.getElementById("modal");
            const modalImage = document.getElementById("modal-image");
            modalImage.src = imgElement.src;
            modalImage.alt = imgElement.alt;
            modal.style.display = "block";
        }

        function closeModal() {
            document.getElementById("modal").style.display = "none";
        }

        // Optional: Close modal on outside click
        window.onclick = function (event) {
            const modal = document.getElementById("modal");
            if (event.target === modal) {
                closeModal();
            }
        }
    </script>
</body>

</html>